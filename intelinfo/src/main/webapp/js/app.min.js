var myApp=angular.module("App",[]);myApp.directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(o,l,n){var t=e(n.fileModel),i=t.assign;l.bind("change",function(){o.$apply(function(){i(o,l[0].files[0])})})}}}]),myApp.service("fileUpload",["$http",function(e){this.uploadFileToUrl=function(o,l){var n=new FormData;n.append("file",l),e.post(o,n,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(){console.log("success")}).error(function(){console.log("error")})}}]),myApp.controller("uploadCtrl",["$scope","fileUpload",function(e,o){e.uploadFile=function(){console.log(document.getElementById("file-4").value.replace(/^.*\\/,"").split("."));var l=document.getElementById("file-4").value.replace(/^.*\\/,"").split(".");if(null==e.myFile)document.getElementById("myfile").innerHTML="*Please choose a file to proceed";else if(document.getElementById("myfile").innerHTML="","csv"!=l[1])document.getElementById("myfile").innerHTML="*Please select only csv file";else{console.log("inside submit");var n=e.myFile;console.log("file is "+JSON.stringify(n));var t="http://192.168.1.153:8080/intelinfo/uploads.htm";o.uploadFileToUrl(t,n)}}}]),myApp.service("fileDownload",["$http",function(e){this.downloadFilefromUrl=function(o,l){var n=new FormData;n.append("category1",l),e.post(o,n,{}).success(function(){console.log("success balle balle")}).error(function(){console.log("error")})}}]),myApp.controller("myCtrl",["$scope","$http","fileDownload",function(e,o,l){o.get("json/categories.json").success(function(o){e.categories=o}),e.download=function(){var o=e.inputlist;console.log(o);var n="http://192.168.1.153:8080/intelinfo/download.htm";l.downloadFilefromUrl(n,o)}}]),myApp.service("templateDownload",["$http",function(e){this.downloadtemplatefromUrl=function(o,l){var n=new FormData;n.append("category1",l),e.post(o,n,{}).success(function(){console.log("success balle balle")}).error(function(){console.log("error")})}}]),myApp.controller("templateCtrl",["$scope","$http","templateDownload",function(e,o,l){o.get("json/categories.json").success(function(o){e.categories=o}),e.templateDownload=function(){var o=e.inputlist;console.log(o);var n="http://192.168.1.153:8080/intelinfo/template.htm";l.downloadtemplatefromUrl(n,o)}}]);